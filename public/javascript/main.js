function toggleTable(){$(window).width()>600&&!$(".accordion-header").hasClass("active")?$(".accordion-header").addClass("active").next().slideToggle():$(window).width()<600&&$(".accordion-header").hasClass("active")&&$(".accordion-header").removeClass("active").next().slideToggle()}function updateDots(t){for(let e=0;e<dots.length;e++)if(dots[e].id==t.id)for(let a in t)dots[e][a]=t[a]}$(document).ready(()=>{const[t,e]=[99,0],[a,o,d,n]=[525,0,680,0],[l,i,s,r]=[1e3,526,680,0];$("button.js-save-btn").on("click",()=>{let t={dots:JSON.stringify(dots)};$.ajax({url:"",type:"PUT",data:t}),alert("Formation Saved!"),modified=!1}),$("#js-fork-btn").on("click",()=>{let t={dots:JSON.stringify(dots)},e=prompt("Provide formation name",$("#formName").text());null!=e&&(t.name=e,$.post("/forkForm",t,()=>{}))}),$("button.js-delete-btn").on("click",()=>{$.ajax({url:"",type:"DELETE",success:t=>{window.location.replace("/profile")}})}),$("button.js-addPlayer-btn").on("click",()=>{let l=Math.floor(Math.random()*(t-e+1))+e,i=Math.floor(Math.random()*(a-o+1))+o,s=Math.floor(Math.random()*(d-n+1))+n,r="",c=Date.now(),h="Assign Position";dots.push({id:c,x:i,y:s,player:l,name:h,team:"Team 1"}),r+=`\n\t\t\t<tr data-player-id="${c}" contentEditable="true" class="table-content">\n\t\t\t\t<td data-team = "Team 1" class="hidden">Team 1</td>\n\t\t\t\t<td data-player="${l}">${l}</td>\n\t\t\t\t<td data-name="${h}">${h}</td>\n\t\t\t\t<td contentEditable="false" class="center"><button id='js-remove-player' class="player-delete">Delete</button></td>\n\t\t\t</tr>`,addDot(),$("#team1-table").append(r)}),$("button.js-addPlayer-btn2").on("click",()=>{let a=Math.floor(Math.random()*(t-e+1))+e,o=Math.floor(Math.random()*(l-i+1))+i,d=Math.floor(Math.random()*(s-r+1))+r,n="",c=Date.now(),h="Assign Position";dots.push({id:c,x:o,y:d,player:a,name:h,team:"Team 2"}),n+=`\n\t\t\t<tr data-player-id="${c}" contentEditable="true" class="table-content">\n\t\t\t\t<td data-team = "Team 2" class="hidden">Team 2</td>\n\t\t\t\t<td data-player="${a}">${a}</td>\n\t\t\t\t<td data-name="${h}">${h}</td>\n\t\t\t\t<td contentEditable="false" class="center"><button id='js-remove-player' class="player-delete">Delete</button></td>\n\t\t\t</tr>`,addDot(),$("#team2-table").append(n)}),$("button#js-remove-player").on("click",()=>{let t=$(this).parent().parent().data("player-id");for(let e=0;e<dots.length;e++)dots[e].id==t&&dots.splice(e,1),dots.forEach(t=>{console.log("forEach",dots)});$("table").find(`[data-player-id='${t}']`).remove(),modified=!0}),$("tr").keyup(t=>{let e=$(this).find("[data-team]").text(),a=$(this).find("[data-player]").text(),o=$(this).find("[data-name]").text();updateDots({id:$(this).data("player-id"),player:a,team:e,name:o}),modified=!0}),$(".accordion").on("click",".accordion-header",function(){$(this).toggleClass("active").next().slideToggle()}),$(window).resize(t=>toggleTable())}),$(document).ready(()=>{toggleTable(),$("label").click(()=>{$("#nav-icon3").toggleClass("open")})}),$(document).one("focus.autoExpand","textarea.autoExpand",()=>{let t=this.value;this.value="",this.baseScrollHeight=this.scrollHeight,this.value=t}).on("input.autoExpand","textarea.autoExpand",()=>{let t,e=0|this.getAttribute("data-min-rows");this.rows=e,t=Math.ceil((this.scrollHeight-this.baseScrollHeight)/16),this.rows=e+t});